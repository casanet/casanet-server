<!-- <stbui-loading *ngIf="showLoading"></stbui-loading> -->
<mat-toolbar class="mat-elevation-z4">
    <button mat-icon-button (click)="sidenav.toggle();drawer.toggle();" *ngIf="matDrawerShow">
        <i class="material-icons app-toolbar-menu">menu </i>
    </button>
    <button mat-icon-button (click)="sidenav.toggle();" *ngIf="!matDrawerShow">
        <i class="material-icons app-toolbar-menu">menu </i>
    </button>

    <span class="spacer"></span>

    <ng-container *ngIf="matDrawerShow">
        {{ clock }}
    </ng-container>
    
    <span class="spacer"></span>

    <!-- <button  mat-icon-button (click)="searchOpen = !searchOpen" fxHide="true" [fxHide.gt-xs]="false">
        <i class="material-icons">search</i>
    </button> -->
    <!-- <cdk-search-bar [open]="searchOpen"></cdk-search-bar> -->

    <cdk-fullscreen *ngIf="matDrawerShow"></cdk-fullscreen>

    <!-- Liveliness area -->
    <ng-container>
        <button *ngIf="liveliness" mat-icon-button matTooltipPosition="below" matTooltip="{{ 'ONLINE' | translate}}">
            <mat-icon aria-label="server OK">check_circle_outline</mat-icon>
        </button>
        <button *ngIf="!liveliness" mat-icon-button matTooltipPosition="below" matTooltip="{{ 'OFFLINE' | translate}}">
            <mat-icon aria-label="server disconected">error_outline</mat-icon>
        </button>
    </ng-container>

    <!-- Remote connection status area -->
    <ng-container *ngIf="remoteConnection !== 'notConfigured'">
        <button *ngIf="remoteConnection === 'connectionOK'" mat-icon-button matTooltipPosition="below"
            matTooltip="{{ remoteConnection | translate}}">
            <mat-icon aria-label="Remote OK">cloud_done</mat-icon>
        </button>
        <button *ngIf="remoteConnection !== 'connectionOK'" mat-icon-button matTooltipPosition="below"
            matTooltip="{{ remoteConnection | translate}}" (click)="sidebar.toggle();">
            <mat-icon aria-label="Remote OK">cloud_off</mat-icon>
        </button>
    </ng-container>

    <cdk-user-menu [currentUser]="toolbarHelpers?.currentUser" style="z-index:99999;"></cdk-user-menu>

    <button mat-icon-button (click)="sidebar.toggle();">
        <i class="material-icons app-toolbar-menu">settings </i>
    </button>

</mat-toolbar>